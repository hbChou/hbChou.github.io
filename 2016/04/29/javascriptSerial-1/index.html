<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>你所不知道的javascript（一） | hbChou</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="哈哈，看到这个标题，是不是让你想到了一本书也叫同样的名字？其实呢，写这篇博文的目的是为了和大家分享我在使用javascript中遇到的一些容易被我们忽略的 tips ，自己平时也在做一些总结，这一次想尽可能地汇总起来，写给以后的自己。

javascript中的数据类型先从javascript中最基本的数据类型开始说起吧，我们都知道javascript有六种数据类型，分别是number、strin">
<meta property="og:type" content="article">
<meta property="og:title" content="你所不知道的javascript（一）">
<meta property="og:url" content="http://yoursite.com/2016/04/29/javascriptSerial-1/index.html">
<meta property="og:site_name" content="hbChou">
<meta property="og:description" content="哈哈，看到这个标题，是不是让你想到了一本书也叫同样的名字？其实呢，写这篇博文的目的是为了和大家分享我在使用javascript中遇到的一些容易被我们忽略的 tips ，自己平时也在做一些总结，这一次想尽可能地汇总起来，写给以后的自己。

javascript中的数据类型先从javascript中最基本的数据类型开始说起吧，我们都知道javascript有六种数据类型，分别是number、strin">
<meta property="og:updated_time" content="2016-04-29T15:58:26.508Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="你所不知道的javascript（一）">
<meta name="twitter:description" content="哈哈，看到这个标题，是不是让你想到了一本书也叫同样的名字？其实呢，写这篇博文的目的是为了和大家分享我在使用javascript中遇到的一些容易被我们忽略的 tips ，自己平时也在做一些总结，这一次想尽可能地汇总起来，写给以后的自己。

javascript中的数据类型先从javascript中最基本的数据类型开始说起吧，我们都知道javascript有六种数据类型，分别是number、strin">
  
    <link rel="alternate" href="/atom.xml" title="hbChou" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.useso.com/css?family=Lato:400,400italic" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">hbChou</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">每天都要有所收获</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">首页</a>
        
          <a class="main-nav-link" href="/archives">归档</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-javascriptSerial-1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/04/29/javascriptSerial-1/" class="article-date">
  <time datetime="2016-04-29T08:58:12.000Z" itemprop="datePublished">2016-04-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      你所不知道的javascript（一）
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>哈哈，看到这个标题，是不是让你想到了一本书也叫同样的名字？其实呢，写这篇博文的目的是为了和大家分享我在使用<code>javascript</code>中遇到的一些容易被我们忽略的 <strong>tips</strong> ，自己平时也在做一些总结，这一次想尽可能地汇总起来，写给以后的自己。</p>
<hr>
<h2 id="javascript中的数据类型"><a href="#javascript中的数据类型" class="headerlink" title="javascript中的数据类型"></a>javascript中的数据类型</h2><p>先从<code>javascript</code>中最基本的数据类型开始说起吧，我们都知道<code>javascript</code>有六种数据类型，分别是<code>number</code>、<code>string</code>、<br><code>boolean</code>、<code>undefined</code>、<code>object</code>和<code>function</code>，如果我们要检测某个变量的类型，都有哪些方法呢？最先想到的应该是<code>typeof</code>这个操作符，在大多数情况下，它都可以检测出我们想要的值，它的返回值就是以上这六种数据类型之一，另外需要特别指出的一点：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="literal">null</span>); <span class="comment">// "object"</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="literal">NaN</span>); <span class="comment">// "number"</span></span><br></pre></td></tr></table></figure></p>
<p>虽然<code>typeof</code>可以分辨出以上这六种数据类型，但是在检测对象具体是哪一种类型（比如<code>Array</code>，<code>Date</code>，<code>RegExp</code>等）时，<code>typeof</code>却无能为力，这时候我们就需要借助<code>Object</code>构造函数原型上的<code>toString</code>方法来进一步区分：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">12</span>,<span class="number">34</span>];</span><br><span class="line"><span class="built_in">console</span>.log(arr.toString()); <span class="comment">// 12,34</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.toString.call(arr)); <span class="comment">// "[object Array]"</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Array</span>.prototype.hasOwnProperty(<span class="string">"toString"</span>)); <span class="comment">// true</span></span><br></pre></td></tr></table></figure></p>
<p>我们都知道，上面提到的<code>Array</code>，<code>Date</code>，<code>RegExp</code>等对象上都具有<code>toString</code>方法，为什么不直接调用对象上的方法来进行判断呢？原因是这些内置对象的构造函数在实现时都重写了<code>Object</code>构造函数原型上的<code>toString</code>方法，我们需要借助<code>call</code>方法将<code>Object</code>构造函数原型上的<code>toString</code>方法内部<code>this</code>的指向修改为我们要判断的对象。<br><strong>注意：</strong>尽管是<code>Object</code>构造函数原型上的<code>toString</code>方法也并不十分完美，在遇到<code>null</code>和<code>undefined</code>也会失效，例如在IE6/7/8中会返回”[object Object]”。</p>
<hr>
<h2 id="数值转换"><a href="#数值转换" class="headerlink" title="数值转换"></a>数值转换</h2><p>JavaScript中将某个变量转化为数值，通常有以下三个方法：</p>
<ul>
<li><h3 id="Number函数"><a href="#Number函数" class="headerlink" title="Number函数"></a><strong>Number函数</strong></h3><p>使用<code>Number</code>函数转化得到的结果仍是基本类型<code>number</code>，而不是引用类型。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="literal">null</span>)); <span class="comment">// 0</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="literal">undefined</span>)); <span class="comment">// NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="string">""</span>)); <span class="comment">// 0</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="string">"010"</span>)); <span class="comment">// 10</span></span><br></pre></td></tr></table></figure>
</li>
<li><h3 id="parseInt-函数"><a href="#parseInt-函数" class="headerlink" title="parseInt()函数"></a><strong>parseInt()函数</strong></h3><p>在使用<code>parseInt()</code>函数对字符串进行转换时，如果第一个字符不是数字且不是负号，<code>parseInt()</code>就会返回NaN；如果第一个字符是数字或者是负号，则parseInt函数会继续解析第二个字符，直到出现第一个非数字字符为止。此外，<code>parseInt()</code>函数可以识别各种整数格式（包括十进制、八进制和十六进制）。使用<code>parseInt()</code>函数还可以指定第二个参数，主要是用于指明给定的字符串要看成多少进制的。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseInt</span>(<span class="string">"AF"</span>, <span class="number">16</span>); <span class="comment">// 175</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>由于使用<code>parseInt()</code>在解析类似<code>null</code>,undefined这些值时统一返回<code>NaN</code>，也就是比较合理的结果，因此实际中如果需要将某个值转换成整数，常用<code>parseInt()</code>函数。</p>
<ul>
<li><h3 id="parseFloat-函数"><a href="#parseFloat-函数" class="headerlink" title="parseFloat()函数"></a><strong>parseFloat()函数</strong></h3><code>parseFloat()</code>函数常用于将某个值转换成浮点数，但它跟<code>parseInt()</code>还是有很大的区别：<ul>
<li><code>parseFloat()</code>函数只能指定一个参数，即要进行转换的值</li>
<li><code>parseFloat()</code>函数将所有要进行转换的字符串都看成是十进制数，不能识别八进制和十六进制</li>
</ul>
</li>
</ul>
<hr>
<h2 id="字符串转换"><a href="#字符串转换" class="headerlink" title="字符串转换"></a>字符串转换</h2><ul>
<li><h3 id="toString方法"><a href="#toString方法" class="headerlink" title="toString方法"></a><strong>toString方法</strong></h3><p>一般情况下，要将某个值转换成字符串，可以直接调用对象上的<code>toString</code>方法。特别的，在将数值转换成字符串时，默认情况下会将数值转换成十进制的字符串格式，也可以给<code>toString</code>方法指定一个参数，该参数用于指明要将数值转换成的进制。这与<code>parseInt()</code>函数指定的第二个参数含义刚好相反。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num = <span class="number">10</span>;</span><br><span class="line"><span class="built_in">console</span>.log(num.toString(<span class="number">2</span>)); <span class="comment">// "1010"</span></span><br><span class="line"><span class="built_in">console</span>.log(num.toString(<span class="number">8</span>)); <span class="comment">// "12"</span></span><br></pre></td></tr></table></figure>
</li>
<li><h3 id="String构造函数"><a href="#String构造函数" class="headerlink" title="String构造函数"></a><strong>String构造函数</strong></h3><p>使用String方法转换时遵循以下规则：</p>
<ul>
<li>如果要转换的值有<code>toString</code>方法，则直接调用<code>toString</code>方法进行转换</li>
<li>如果是<code>undefined</code>，则结果返回<code>&quot;undefined&quot;</code></li>
<li>如果是<code>null</code>，则结果返回<code>&quot;null&quot;</code></li>
</ul>
</li>
</ul>
<hr>
<h2 id="使用加法操作符（-）时的隐性类型转换问题"><a href="#使用加法操作符（-）时的隐性类型转换问题" class="headerlink" title="使用加法操作符（+）时的隐性类型转换问题"></a>使用加法操作符（+）时的隐性类型转换问题</h2><ul>
<li>如果操作数中含有对象或者函数时，默认会先调用对象或函数重写的<code>valueOf</code>方法，如果该对象上不存在重写的valueOf方法，则会调用重写的<code>toString</code>方法，如果该对象上不存在重写的toString方法，则会调用<code>Object</code>构造函数原型上的<code>toString</code>方法转化为字符串。</li>
<li>对于<code>undefined</code>，<code>null</code>和布尔值，则会根据其他操作数的类型转换成相应类型的值（如果跟它相加的操作数中含有字符串，则转换成字符串；如果跟它相加的操作数中不含字符串而是数值，则转换成数值），如果只是null，undefined和布尔值混合相加，则优先全部转换成数值。<br><strong>注意：</strong><code>undefined</code>转换成数值时得到的结果为<code>NaN</code>，转换得到的NaN则会被看成是字符串，而<code>null</code>转换为数值时则会转化为<code>0</code>。</li>
<li>一般情况下，经过上面的步骤，函数或者对象会被转换成数值或者字符串，此时如果操作数中含有字符串（包括函数或对象转化而来的字符串以及<code>undefined</code>转化得到的<code>NaN</code>），则加法运算得到的结果是字符串。如果操作数中不含字符串而全部是数值，则得到的结果是数值。</li>
</ul>
<hr>
<h2 id="使用减法操作符（-）时的隐性类型转换问题"><a href="#使用减法操作符（-）时的隐性类型转换问题" class="headerlink" title="使用减法操作符（-）时的隐性类型转换问题"></a>使用减法操作符（-）时的隐性类型转换问题</h2><p>相对于加法操作符（+），减法的运算规则则显得没有那么复杂，所有的值都会先通过<code>Number</code>构造函数转换成数值，然后再进行减法运算。如果转换的结果是<code>NaN</code>，则得到的运算结果就是<code>NaN</code>。</p>
<hr>
<h2 id="使用关系运算符（-lt-gt-lt-和-gt-）时的隐性类型转换问题"><a href="#使用关系运算符（-lt-gt-lt-和-gt-）时的隐性类型转换问题" class="headerlink" title="使用关系运算符（&lt;,&gt;,&lt;=和&gt;=）时的隐性类型转换问题"></a>使用关系运算符（<code>&lt;</code>,<code>&gt;</code>,<code>&lt;=</code>和<code>&gt;=</code>）时的隐性类型转换问题</h2><ul>
<li>如果两个操作数都是字符串（可能是转化得到的），则会根据每个字符在<code>ASCII编码表</code>中出现的先后顺序进行比较</li>
<li>其他情况下，将两个操作数转换成数值再进行比较</li>
<li><strong><code>NaN</code>（可能是由<code>undefined</code>转化而来）跟任何值做比较返回的结果都是<code>false</code></strong></li>
</ul>
<hr>
<h2 id="使用相等运算符（-）时的隐形类型转换问题"><a href="#使用相等运算符（-）时的隐形类型转换问题" class="headerlink" title="使用相等运算符（==）时的隐形类型转换问题"></a>使用相等运算符（<code>==</code>）时的隐形类型转换问题</h2><ul>
<li>如果操作数中含有布尔值，则会将布尔值转化为数值</li>
<li>如果操作数中含有字符串和数值，则会将字符串转换为数值再进行判断<br><strong>注意：</strong><ul>
<li><strong>null和undefined是相等的</strong></li>
<li><strong>在比较相等性之前，不会对null和undefined做任何转化</strong></li>
<li><strong>NaN和任何值都不相等，包括它本身</strong></li>
<li>在比较两个对象是否相等时，如果两者指向的是同一个对象，则返回<code>true</code>，否则返回<code>false</code>。这一点和比较全等时的规则是一样的。</li>
</ul>
</li>
</ul>
<hr>
<h2 id="应该使用全等运算符（-）"><a href="#应该使用全等运算符（-）" class="headerlink" title="应该使用全等运算符（===）"></a>应该使用全等运算符（<code>===</code>）</h2><p><code>===</code>可以严格判断做比较的两者是否为同一类型，如果不是相同类型，则直接返回<code>false</code>，而不会导致模棱两可的结果。</p>
<p><code>javascript</code>中不同的运算符有着不同的隐性转换规则，这一点也确实让人感到头疼，但也是因为这一点，<code>JavaScript</code>程序本身才具有很高的容错性，不至于因为数据类型不同而打断程序的运行。虽然说有时候得到的结果往往并不是我们想要的。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/04/29/javascriptSerial-1/" data-id="cinlyy9tk0001w4id379utww4" class="article-share-link">Share</a>
      <div class="bdsharebuttonbox"><a href="#" class="bds_more" data-cmd="more"></a><a href="#" class="bds_qzone" data-cmd="qzone"></a><a href="#" class="bds_tsina" data-cmd="tsina"></a><a href="#" class="bds_tqq" data-cmd="tqq"></a><a href="#" class="bds_renren" data-cmd="renren"></a><a href="#" class="bds_weixin" data-cmd="weixin"></a></div>
      <script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdPic":"","bdStyle":"0","bdSize":"16"},"share":{},"image":{"viewList":["qzone","tsina","tqq","renren","weixin"],"viewText":"分享到：","viewSize":"16"},"selectShare":{"bdContainerClass":null,"bdSelectMiniList":["qzone","tsina","tqq","renren","weixin"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript/">javascript</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2016/04/29/hello-world/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Hello World
        
      </div>
    </a>
  
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/">javascript</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/javascript/" style="font-size: 10px;">javascript</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">四月 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/04/29/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2016/04/29/javascriptSerial-1/">你所不知道的javascript（一）</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    <iframe width="100%" height="550" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=1&ptype=0&speed=0&skin=3&isTitle=1&noborder=1&isWeibo=1&isFans=1&uid=3301672992&verifier=2fb07103&dpc=1"></iframe>
  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 hbChou<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">首页</a>
  
    <a href="/archives" class="mobile-nav-link">归档</a>
  
</nav>
    

<script src="//libs.baidu.com/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>